@using System.Text.Json
@using System.Text.Json.Serialization;
@model IEnumerable<StudentTracker.Models.Student>

@{
    ViewData["Title"] = "Index";
}

<div style="text-align: center;">
    <div style="text-align: center;">
        <div style="width: 400px; height: 400px;">
            <canvas id="myPieChart"></canvas>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript">
        $(function() {
            var ctx = document.getElementById("myPieChart").getContext('2d');

            var data = @Html.Raw(Json.Serialize(ViewData["PieChartMain"] as PieChart));

            var options = {
                responsive: true,
                tooltips: {
                    enabled: true
                },
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Проценты трудоустройства выпускников'
                    }
                }
            };

            var myPie = new Chart(ctx,
                {
                    type: 'pie',
                    data: data,
                    options: options
                });
        });

    </script>
}
